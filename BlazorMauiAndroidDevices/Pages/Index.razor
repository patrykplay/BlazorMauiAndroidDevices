@page "/"

@inject IJSRuntime JSRuntime

<video id="LOCAL_VIDEO_ID" autoplay height="200" width="200"></video>
<input id="LABEL_ID" value="">

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);

        if (firstRender)
        {
            //_ = Task.Run(RequestMedia);
            await RequestMedia();
        }

    }

    async Task RequestMedia()
    {
        // Try just wait??
        await Task.Delay(5000);

        try
        {

            await JSRuntime.InvokeVoidAsync("requestMedia");

        }
        catch (Exception e)
        {
            Console.WriteLine(e);
        }
    }
}